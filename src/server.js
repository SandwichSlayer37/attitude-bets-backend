==> Deploying...
==> Running 'node src/server.js'
Server running on port 10000
(node:68) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:68) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
✅ Connected to MongoDB
     ==> Your service is live 🎉
     ==> 
     ==> ///////////////////////////////////////////////////////////
     ==> 
     ==> Available at your primary URL https://attitude-bets-api-us-east.onrender.com
     ==> 
     ==> ///////////////////////////////////////////////////////////
     ==> Deploying...
🚀 Starting new definitive prediction pipeline...
✅ Successfully processed historical data for 103 goalies.
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
✅ Processed live stats for 32 teams.
✅ Created odds map with 5 games.
✅ Loaded 51 upcoming NHL games from primary API.
[SKIP] Missing data for VAN@WAS.
[SKIP] Missing data for EDM@DET.
[SKIP] Missing data for ANA@CHI.
[SKIP] Missing data for BOS@UTA.
[HIT] GET /api/predictions received for sport: icehockey_nhl
🚀 Starting new definitive prediction pipeline...
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
🔍 Hydration check: {
  homeAbbr: 'NYR',
  awayAbbr: 'MIN',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
✅ Processed live stats for 32 teams.
✅ Created odds map with 5 games.
✅ Loaded 51 upcoming NHL games from primary API.
[SKIP] Missing data for VAN@WAS.
[SKIP] Missing data for EDM@DET.
[SKIP] Missing data for ANA@CHI.
[SKIP] Missing data for BOS@UTA.
🔍 Hydration check: {
  homeAbbr: 'NYR',
  awayAbbr: 'MIN',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'PHI',
  awayAbbr: 'SEA',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'PHI',
  awayAbbr: 'SEA',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'MON',
  awayAbbr: 'BUF',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: false,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'MON',
  awayAbbr: 'BUF',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: false,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'CGY',
  awayAbbr: 'WPG',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'CGY',
  awayAbbr: 'WPG',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
🔍 Hydration check: {
  homeAbbr: 'VGK',
  awayAbbr: 'CAR',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
[SKIP] Missing data for NJ@TOR.
[SKIP] Missing data for EDM@OTT.
[SKIP] Missing data for SJ@NYI.
[SKIP] Missing data for VAN@PIT.
[SKIP] Missing data for SEA@WAS.
[SKIP] Missing data for FLA@BOS.
[SKIP] Missing data for LA@STL.
[SKIP] Missing data for ANA@NSH.
[SKIP] Missing data for CBJ@DAL.
[SKIP] Missing data for COL@UTA.
[SKIP] Missing data for MIN@NJ.
[SKIP] Missing data for DET@BUF.
[SKIP] Missing data for MON@CGY.
[SKIP] Missing data for CHI@TB.
[SKIP] Missing data for ANA@BOS.
[SKIP] Missing data for PHI@OTT.
[SKIP] Missing data for PIT@FLA.
[SKIP] Missing data for DET@NYI.
[SKIP] Missing data for SJ@NYR.
[SKIP] Missing data for UTA@STL.
[SKIP] Missing data for VAN@NSH.
[SKIP] Missing data for SEA@WPG.
[SKIP] Missing data for LA@DAL.
[SKIP] Missing data for CAR@COL.
[SKIP] Missing data for MON@EDM.
[SKIP] Missing data for SJ@NJ.
[SKIP] Missing data for WAS@CBJ.
[SKIP] Missing data for TOR@BUF.
[SKIP] Missing data for CGY@WPG.
[SKIP] Missing data for NYI@PHI.
[SKIP] Missing data for COL@BOS.
[SKIP] Missing data for ANA@TB.
[SKIP] Missing data for VGK@FLA.
[SKIP] Missing data for UTA@MIN.
[SKIP] Missing data for BUF@TOR.
[SKIP] Missing data for STL@DET.
[SKIP] Missing data for CBJ@PIT.
[SKIP] Missing data for OTT@WAS.
[SKIP] Missing data for MON@VAN.
[SKIP] Missing data for LA@NSH.
[SKIP] Missing data for CAR@DAL.
✅ Generated 5 predictions.
[SKIP] Missing data for EDM@SEA.
🔍 Hydration check: {
  homeAbbr: 'VGK',
  awayAbbr: 'CAR',
  hasHomeLiveStats: true,
  hasAwayLiveStats: true,
  hasHomeAdvStats: true,
  hasAwayAdvStats: true
}
[SKIP] Missing data for NJ@TOR.
[SKIP] Missing data for EDM@OTT.
[SKIP] Missing data for SJ@NYI.
[SKIP] Missing data for VAN@PIT.
[SKIP] Missing data for SEA@WAS.
[SKIP] Missing data for FLA@BOS.
[SKIP] Missing data for LA@STL.
[SKIP] Missing data for ANA@NSH.
[SKIP] Missing data for CBJ@DAL.
[SKIP] Missing data for COL@UTA.
[SKIP] Missing data for MIN@NJ.
[SKIP] Missing data for DET@BUF.
[SKIP] Missing data for MON@CGY.
[SKIP] Missing data for CHI@TB.
[SKIP] Missing data for ANA@BOS.
[SKIP] Missing data for PHI@OTT.
[SKIP] Missing data for PIT@FLA.
[SKIP] Missing data for DET@NYI.
[SKIP] Missing data for SJ@NYR.
[SKIP] Missing data for UTA@STL.
[SKIP] Missing data for VAN@NSH.
[SKIP] Missing data for SEA@WPG.
[SKIP] Missing data for LA@DAL.
[SKIP] Missing data for CAR@COL.
[SKIP] Missing data for MON@EDM.
[SKIP] Missing data for SJ@NJ.
[SKIP] Missing data for WAS@CBJ.
[SKIP] Missing data for TOR@BUF.
[SKIP] Missing data for CGY@WPG.
[SKIP] Missing data for NYI@PHI.
[SKIP] Missing data for COL@BOS.
[SKIP] Missing data for ANA@TB.
[SKIP] Missing data for VGK@FLA.
[SKIP] Missing data for UTA@MIN.
[SKIP] Missing data for BUF@TOR.
[SKIP] Missing data for STL@DET.
[SKIP] Missing data for CBJ@PIT.
[SKIP] Missing data for OTT@WAS.
[SKIP] Missing data for MON@VAN.
[SKIP] Missing data for LA@NSH.
[SKIP] Missing data for CAR@DAL.
[SKIP] Missing data for EDM@SEA.
✅ Generated 5 predictions.
[HIT] GET /api/predictions received for sport: baseball_mlb
==> Running 'node src/server.js'
Server running on port 10000
(node:70) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:70) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
✅ Connected to MongoDB
     ==> Your service is live 🎉
     ==> 
     ==> ///////////////////////////////////////////////////////////
     ==> 
     ==> Available at your primary URL https://attitude-bets-api-us-east.onrender.com
     ==> 
     ==> ///////////////////////////////////////////////////////////
🚀 Starting new definitive prediction pipeline...
✅ Successfully processed historical data for 103 goalies.
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
Critical error during the new prediction pipeline: (src || []) is not iterable
[HIT] GET /api/predictions received for sport: baseball_mlb
[HIT] GET /api/predictions received for sport: icehockey_nhl
🚀 Starting new definitive prediction pipeline...
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
Critical error during the new prediction pipeline: (src || []) is not iterable
[HIT] GET /api/predictions received for sport: icehockey_nhl
🚀 Starting new definitive prediction pipeline...
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
Critical error during the new prediction pipeline: (src || []) is not iterable
[HIT] GET /api/predictions received for sport: icehockey_nhl
🚀 Starting new definitive prediction pipeline...
[WARN] Primary club-stats API failed: Request failed with status code 404. Falling back to standings API.
Critical error during the new prediction pipeline: (src || []) is not iterable
